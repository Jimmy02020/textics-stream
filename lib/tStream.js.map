{"version":3,"sources":["webpack:///tStream.js","webpack:///webpack/bootstrap 50082df68c5add208558","webpack:///./src/deps.js","webpack:///./src/index.js","webpack:///./src/core/TStream.js","webpack:///./node_modules/textics/dist/textics.js","webpack:///external \"util\"","webpack:///external \"stream\"","webpack:///external \"events\"","webpack:///./src/core/Stat.js","webpack:///./src/err.js","webpack:///./src/core/TEmitter.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","value","_textics","_util","_stream","_events","_TStream","TStream","opt","this","opts","isPush","statis","_Stat2","textics","_TEmitter2","Transform","_deps","_Stat","_TEmitter","stream","util","inherits","_transform","chunk","encoding","cb","push","count","emit","getResults","_flush","flush","str","lines","words","chars","spaces","length","pre","test","replace","init","linesArr","trim","split","char","wordsArr","k","require","Stat","allLines","allWords","allChars","allSpaces","lastln","lastWrd","lastChr","lastSps","rounds","warnSent","isSliced","pool","_err","_err2","type","add","lastCall","arguments","undefined","statics","isLastChunk","slicePool","CRLF","slice","toString","code","charCodeAt","warnLevels","service","warn","warnIndex","process","emitWarning","TEmitter","EventEmitter"],"mappings":"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","file":"tStream.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _textics = __webpack_require__(3);\n\nObject.defineProperty(exports, 'textics', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_textics).default;\n  }\n});\n\nvar _util = __webpack_require__(4);\n\nObject.defineProperty(exports, 'util', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_util).default;\n  }\n});\n\nvar _stream = __webpack_require__(5);\n\nObject.defineProperty(exports, 'stream', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_stream).default;\n  }\n});\n\nvar _events = __webpack_require__(6);\n\nObject.defineProperty(exports, 'EventEmitter', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_events).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TStream = __webpack_require__(2);\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_TStream).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _deps = __webpack_require__(0);\n\nvar _Stat = __webpack_require__(7);\n\nvar _Stat2 = _interopRequireDefault(_Stat);\n\nvar _TEmitter = __webpack_require__(9);\n\nvar _TEmitter2 = _interopRequireDefault(_TEmitter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Transform = _deps.stream.Transform;\n\nfunction TStream(opt) {\n  if (!(this instanceof TStream)) {\n    return new TStream(opt);\n  }\n  var opts = opt || {};\n  this.isPush = opts.isPush === true;\n  this.statis = new _Stat2.default();\n  this.textics = new _TEmitter2.default();\n  Transform.call(this, opt);\n}\n_deps.util.inherits(TStream, Transform);\n\nTStream.prototype._transform = function (chunk, encoding, cb) {\n  if (this.isPush) this.push(chunk);\n  this.statis.count(chunk);\n  this.textics.emit('getLast', this.statis.getResults('last'));\n  cb();\n};\n\nTStream.prototype._flush = function (cb) {\n  this.statis.flush();\n  this.textics.emit('getAll', this.statis.getResults(''));\n  cb();\n};\n\nexports.default = TStream;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar textics = function textics(str) {\n  var lines = 0;\n  var words = 0;\n  var chars = 0;\n  var spaces = 0;\n  if (str.length > 0) {\n    var pre = str;\n    if (/\\r\\n/.test(str)) pre = str.replace(/\\r\\n/g, '\\n');\n    var init = pre;\n    if (/\\n /.test(str)) init = pre.replace(/\\n /g, '\\n');\n    var linesArr = init.trim().split(/\\r|\\n/);\n    lines = linesArr.length;\n    var char = void 0;\n    for (var i = 0; i < lines; i += 1) {\n      var wordsArr = linesArr[i].trim().split(/\\s+/);\n      for (var k = 0; k < wordsArr.length; k += 1) {\n        char = wordsArr[k].length;\n        chars += char;\n        if (char > 1) words += 1;\n      }\n    }\n    spaces = lines === 1 ? pre.length - chars : pre.length - chars - lines;\n  }\n  return {\n    lines: lines,\n    words: words,\n    chars: chars,\n    spaces: spaces\n  };\n};\n\nexports.default = textics;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"util\");\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"stream\");\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"events\");\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _err = __webpack_require__(8);\n\nvar _err2 = _interopRequireDefault(_err);\n\nvar _deps = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MAX_WARN_ALLOWED = 2;\n\nfunction Stat() {\n  this.allLines = 0;\n  this.allWords = 0;\n  this.allChars = 0;\n  this.allSpaces = 0;\n\n  this.lastln = 0;\n  this.lastWrd = 0;\n  this.lastChr = 0;\n  this.lastSps = 0;\n\n  this.rounds = 0;\n  this.warnSent = 0;\n  this.isSliced = false;\n  this.pool = '';\n}\n\nStat.prototype.getResults = function (type) {\n  return type === 'last' ? {\n    lines: this.lastln,\n    words: this.lastWrd,\n    chars: this.lastChr,\n    spaces: this.lastSps\n  } : {\n    lines: this.allLines,\n    words: this.allWords,\n    chars: this.allChars,\n    spaces: this.allSpaces\n  };\n};\n\nStat.prototype.add = function (str) {\n  var lastCall = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var statics = (0, _deps.textics)(str);\n  this.lastln = lastCall ? 0 : statics.lines;\n  this.lastWrd = statics.words;\n  this.lastChr = statics.chars;\n  this.lastSps = statics.spaces;\n\n  this.allLines += this.lastln;\n  this.allWords += this.lastWrd;\n  this.allChars += this.lastChr;\n  this.allSpaces += this.lastSps;\n};\n\nStat.prototype.flush = function () {\n  var isLastChunk = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.add(this.pool, isLastChunk);\n  if (isLastChunk) this.pool = undefined;else this.pool = '';\n};\n\nStat.prototype.slicePool = function (i, CRLF) {\n  this.add(this.pool.slice(0, CRLF ? i - 1 : i));\n  this.pool = this.pool.slice(i, this.pool.length);\n  this.isSliced = true;\n  if (this.rounds >= 0) this.rounds -= 1;\n};\n\nStat.prototype.count = function (chunk) {\n  this.isSliced = false;\n  this.pool += chunk.toString();\n\n  if (/\\n\\r/.test(this.pool) || /\\n/.test(this.pool) || /\\r/.test(this.pool)) {\n    for (var i = this.pool.length; i > 0; i -= 1) {\n      var code = this.pool.charCodeAt(i);\n\n      if (code === 10) {\n        if (this.pool.charCodeAt(i - 1) === 13) {\n          this.slicePool(i, true);\n        } else {\n          this.slicePool(i, false);\n        }\n        break;\n      } else if (code === 13) {\n        this.slicePool(i, false);\n        break;\n      }\n    }\n  }\n  if (!this.isSliced) {\n    this.rounds += 1;\n    if (this.warnSent < MAX_WARN_ALLOWED) {\n      if (this.rounds === 1) {\n        (0, _err2.default)(0);\n        this.warnSent += 1;\n      } else {\n        (0, _err2.default)(1);\n        this.warnSent += 1;\n      }\n    } else {\n      this.rounds = 0;\n      this.flush(false);\n    }\n  }\n};\n\nexports.default = Stat;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar service = 'textics-stream';\nvar warnLevels = [service + ' faild to detect new-line in the stream', service + ' may have lines-count issues in final results'];\n\nvar warn = function warn(warnIndex) {\n  return process.emitWarning('\\x1B[33m' + warnLevels[warnIndex] + '\\x1B[0m');\n};\n\nexports.default = warn;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _deps = __webpack_require__(0);\n\nfunction TEmitter() {\n  _deps.EventEmitter.call(this);\n}\n_deps.util.inherits(TEmitter, _deps.EventEmitter);\n\nexports.default = TEmitter;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// tStream.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 50082df68c5add208558","export { default as textics } from 'textics';\nexport { default as util } from 'util';\nexport { default as stream } from 'stream';\nexport { default as EventEmitter } from 'events';\n\n\n\n// WEBPACK FOOTER //\n// ./src/deps.js","\nexport { default } from './core/TStream';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_transform\", \"_flush\"] }] */\n/* eslint func-names: [\"error\", \"never\"] */\n\nimport {\n  util,\n  stream,\n} from '../deps';\n\nimport Stat from './Stat';\nimport TEmitter from './TEmitter';\n\n\nconst Transform = stream.Transform;\n\nfunction TStream(opt) {\n  if (!(this instanceof TStream)) {\n    return new TStream(opt);\n  }\n  const opts = opt || {};\n  this.isPush = opts.isPush === true;\n  this.statis = new Stat();\n  this.textics = new TEmitter();\n  Transform.call(this, opt);\n}\nutil.inherits(TStream, Transform);\n\nTStream.prototype._transform = function (chunk, encoding, cb) {\n  if (this.isPush) this.push(chunk);\n  this.statis.count(chunk);\n  this.textics.emit('getLast', this.statis.getResults('last'));\n  cb();\n};\n\nTStream.prototype._flush = function (cb) {\n  this.statis.flush();\n  this.textics.emit('getAll', this.statis.getResults(''));\n  cb();\n};\n\n\nexport default TStream;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/TStream.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar textics = function textics(str) {\n  var lines = 0;\n  var words = 0;\n  var chars = 0;\n  var spaces = 0;\n  if (str.length > 0) {\n    var pre = str;\n    if (/\\r\\n/.test(str)) pre = str.replace(/\\r\\n/g, '\\n');\n    var init = pre;\n    if (/\\n /.test(str)) init = pre.replace(/\\n /g, '\\n');\n    var linesArr = init.trim().split(/\\r|\\n/);\n    lines = linesArr.length;\n    var char = void 0;\n    for (var i = 0; i < lines; i += 1) {\n      var wordsArr = linesArr[i].trim().split(/\\s+/);\n      for (var k = 0; k < wordsArr.length; k += 1) {\n        char = wordsArr[k].length;\n        chars += char;\n        if (char > 1) words += 1;\n      }\n    }\n    spaces = lines === 1 ? pre.length - chars : pre.length - chars - lines;\n  }\n  return {\n    lines: lines,\n    words: words,\n    chars: chars,\n    spaces: spaces\n  };\n};\n\nexports.default = textics;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/textics/dist/textics.js\n// module id = 3\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 6\n// module chunks = 0","/* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_transform\", \"_flush\"] }] */\n/* eslint func-names: [\"error\", \"never\"] */\n\nimport warn from '../err';\nimport {\n  textics,\n} from '../deps';\n\nconst MAX_WARN_ALLOWED = 2;\n\nfunction Stat() {\n  this.allLines = 0;\n  this.allWords = 0;\n  this.allChars = 0;\n  this.allSpaces = 0;\n  // last\n  this.lastln = 0;\n  this.lastWrd = 0;\n  this.lastChr = 0;\n  this.lastSps = 0;\n  //\n  this.rounds = 0; // number of chunks dosent have newline, be hold in pool.\n  this.warnSent = 0;\n  this.isSliced = false;\n  this.pool = ''; // for handling chunks\n}\n\n// Stat.prototype.init = function () {\n//   this.allLines = 0;\n//   this.allWords = 0;\n//   this.allChars = 0;\n//   this.allSpaces = 0;\n//   // last\n//   this.lastln = 0;\n//   this.lastWrd = 0;\n//   this.lastChr = 0;\n//   this.lastSps = 0;\n// };\n\nStat.prototype.getResults = function (type) {\n  return type === 'last' ?\n    {\n      lines: this.lastln,\n      words: this.lastWrd,\n      chars: this.lastChr,\n      spaces: this.lastSps,\n    } : {\n      lines: this.allLines,\n      words: this.allWords,\n      chars: this.allChars,\n      spaces: this.allSpaces,\n    };\n};\n\n\nStat.prototype.add = function (str, lastCall = false) {\n  const statics = textics(str);\n  this.lastln = lastCall ? 0 : statics.lines;\n  this.lastWrd = statics.words;\n  this.lastChr = statics.chars;\n  this.lastSps = statics.spaces;\n  //\n  this.allLines += this.lastln;\n  this.allWords += this.lastWrd;\n  this.allChars += this.lastChr;\n  this.allSpaces += this.lastSps;\n};\n\n\n// fushing pool.\nStat.prototype.flush = function (isLastChunk = true) {\n  this.add(this.pool, isLastChunk);\n  if (isLastChunk) this.pool = undefined;\n  else this.pool = '';\n};\n\nStat.prototype.slicePool = function (i, CRLF) {\n  this.add(this.pool.slice(0, CRLF ? i - 1 : i));\n  this.pool = this.pool.slice(i, this.pool.length);\n  this.isSliced = true;\n  if (this.rounds >= 0) this.rounds -= 1;\n};\n\nStat.prototype.count = function (chunk) {\n  // reset isSliced\n  this.isSliced = false;\n  this.pool += chunk.toString();\n  // looking for new line\n  if (/\\n\\r/.test(this.pool) || /\\n/.test(this.pool) || /\\r/.test(this.pool)) {\n    for (let i = this.pool.length; i > 0; i -= 1) {\n      const code = this.pool.charCodeAt(i);\n      // check if \\r\\n\n      if (code === 10) {\n        if (this.pool.charCodeAt(i - 1) === 13) {\n          // CRLF, \\r\\n\n          this.slicePool(i, true);\n        } else {\n          this.slicePool(i, false);\n        }\n        break;\n      } else if (code === 13) {\n        this.slicePool(i, false);\n        break;\n      }\n    }\n  }\n  if (!this.isSliced) {\n    this.rounds += 1;\n    if (this.warnSent < MAX_WARN_ALLOWED) {\n      if (this.rounds === 1) {\n        warn(0);\n        this.warnSent += 1;\n      } else {\n        warn(1);\n        this.warnSent += 1;\n      }\n    } else {\n      this.rounds = 0;\n      this.flush(false);\n    }\n  }\n};\n\nexport default Stat;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Stat.js","const service = 'textics-stream';\nconst warnLevels = [\n  `${service} faild to detect new-line in the stream`,\n  `${service} may have lines-count issues in final results`,\n];\n\nconst warn = warnIndex => process.emitWarning(`\\x1b[33m${warnLevels[warnIndex]}\\x1b[0m`);\n\nexport default warn;\n\n\n\n// WEBPACK FOOTER //\n// ./src/err.js","/* eslint func-names: [\"error\", \"never\"] */\n\nimport {\n  util,\n  EventEmitter,\n} from '../deps';\n\nfunction TEmitter() {\n  EventEmitter.call(this);\n}\nutil.inherits(TEmitter, EventEmitter);\n\nexport default TEmitter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/TEmitter.js"],"sourceRoot":""}